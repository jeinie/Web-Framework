{"ast":null,"code":"var _jsxFileName = \"/Users/jangjeong-yun/2022_2_lecture/WebFramework/Web-Framework/Prac/ch08/ex/proj/ex08-01-3/src/components/GetData.js\",\n  _s = $RefreshSig$();\n/**\r\n * ch08/ex/proj/ex08-01-3\r\n * ./src/GetData.js\r\n * \r\n * XMLHttpRequest():\r\n * https://developer.mozilla.org/ko/docs/Web/API/XMLHttpRequest\r\n * https://ko.javascript.info/xmlhttprequest\r\n */\n\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet count = 0;\n\n/* ch08-01-2.html: XMLHttpRequest() */\nexport const XHR = _ref => {\n  _s();\n  let {\n    login\n  } = _ref;\n  const [data, setData] = useState();\n  console.log(\"XHR(): \", ++count);\n  useEffect(() => {\n    if (!login) return;\n\n    // create object from XMLHttpRequest()\n    // initialize xhr object\n    // define readystatechange    \n    // send it\n    /* code here */\n    const xhr = new XMLHttpRequest();\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState === xhr.DONE) {\n        if (xhr.status === 200 || xhr.status === 201) {\n          setData(xhr.response);\n        } else console.error(xhr.responseText);\n      }\n    };\n    xhr.open('GET', url);\n    xhr.send();\n  }, [login]);\n  if (data) return /*#__PURE__*/_jsxDEV(\"pre\", {\n    children: data\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 20\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"No data\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 10\n  }, this);\n};\n_s(XHR, \"WZ2PO9A64oHRexE1CE+yX3ebuoA=\");\n_c = XHR;\nvar _c;\n$RefreshReg$(_c, \"XHR\");","map":{"version":3,"names":["useState","useEffect","count","XHR","login","data","setData","console","log","xhr","XMLHttpRequest","onreadystatechange","readyState","DONE","status","response","error","responseText","open","url","send"],"sources":["/Users/jangjeong-yun/2022_2_lecture/WebFramework/Web-Framework/Prac/ch08/ex/proj/ex08-01-3/src/components/GetData.js"],"sourcesContent":["/**\r\n * ch08/ex/proj/ex08-01-3\r\n * ./src/GetData.js\r\n * \r\n * XMLHttpRequest():\r\n * https://developer.mozilla.org/ko/docs/Web/API/XMLHttpRequest\r\n * https://ko.javascript.info/xmlhttprequest\r\n */\r\n\r\nimport { useState, useEffect } from \"react\";\r\nlet count = 0;\r\n\r\n/* ch08-01-2.html: XMLHttpRequest() */\r\nexport const XHR = ({ login }) => {\r\n  const [data, setData] = useState();\r\n  console.log(\"XHR(): \", ++count);\r\n\r\n  useEffect(() => {\r\n    if (!login) return;\r\n\r\n    // create object from XMLHttpRequest()\r\n    // initialize xhr object\r\n    // define readystatechange    \r\n    // send it\r\n    /* code here */\r\n    const xhr = new XMLHttpRequest();\r\n    xhr.onreadystatechange = () => {\r\n      if (xhr.readyState === xhr.DONE) {\r\n        if (xhr.status === 200 || xhr.status === 201) {\r\n          setData(xhr.response);\r\n        } else console.error(xhr.responseText);\r\n      }\r\n    }\r\n    xhr.open('GET', url);\r\n    xhr.send();\r\n  }, [login]);\r\n\r\n  if (data) return <pre>{data}</pre>;\r\n  return <div>No data</div>;\r\n}"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC;AAC5C,IAAIC,KAAK,GAAG,CAAC;;AAEb;AACA,OAAO,MAAMC,GAAG,GAAG,QAAe;EAAA;EAAA,IAAd;IAAEC;EAAM,CAAC;EAC3B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,EAAE;EAClCO,OAAO,CAACC,GAAG,CAAC,SAAS,EAAE,EAAEN,KAAK,CAAC;EAE/BD,SAAS,CAAC,MAAM;IACd,IAAI,CAACG,KAAK,EAAE;;IAEZ;IACA;IACA;IACA;IACA;IACA,MAAMK,GAAG,GAAG,IAAIC,cAAc,EAAE;IAChCD,GAAG,CAACE,kBAAkB,GAAG,MAAM;MAC7B,IAAIF,GAAG,CAACG,UAAU,KAAKH,GAAG,CAACI,IAAI,EAAE;QAC/B,IAAIJ,GAAG,CAACK,MAAM,KAAK,GAAG,IAAIL,GAAG,CAACK,MAAM,KAAK,GAAG,EAAE;UAC5CR,OAAO,CAACG,GAAG,CAACM,QAAQ,CAAC;QACvB,CAAC,MAAMR,OAAO,CAACS,KAAK,CAACP,GAAG,CAACQ,YAAY,CAAC;MACxC;IACF,CAAC;IACDR,GAAG,CAACS,IAAI,CAAC,KAAK,EAAEC,GAAG,CAAC;IACpBV,GAAG,CAACW,IAAI,EAAE;EACZ,CAAC,EAAE,CAAChB,KAAK,CAAC,CAAC;EAEX,IAAIC,IAAI,EAAE,oBAAO;IAAA,UAAMA;EAAI;IAAA;IAAA;IAAA;EAAA,QAAO;EAClC,oBAAO;IAAA;EAAA;IAAA;IAAA;IAAA;EAAA,QAAkB;AAC3B,CAAC;AAAA,GA1BYF,GAAG;AAAA,KAAHA,GAAG;AAAA;AAAA"},"metadata":{},"sourceType":"module"}